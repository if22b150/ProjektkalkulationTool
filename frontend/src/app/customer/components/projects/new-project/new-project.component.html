<form [formGroup]="newProjectForm">

  <div class="p-fluid">

    <div class="field mb-2">
      <label for="title" class="mb-1">Reservierung</label>
      <input id="title" type="text" class="w-full" pInputText formControlName="title" placeholder="Name">
      <small *ngIf="title?.errors?.required && submitted" class="p-error">
        Ein Titel ist erforderlich.
      </small>
    </div>

    <div class="field mb-2">
      <label for="travelCosts" class="mb-1">Reisekosten in Euro</label>
      <input id="travelCosts" type="number" class="w-full" pInputText formControlName="travelCosts"
             pattern="^\d+(\.\d{1,2})?$" min="0" max="10000" placeholder="€">
      <small *ngIf="travelCosts?.errors?.required && submitted" class="p-error">
        Ein Text ist erforderlich.
      </small>
      <small *ngIf="travelCosts?.errors?.pattern && submitted" class="p-error">
        Bitte geben Sie einen gültigen Euro-Betrag ein.
      </small>
      <small *ngIf="travelCosts?.errors?.min && submitted" class="p-error">
        Der Betrag darf nicht negativ sein.
      </small>
      <small *ngIf="travelCosts?.errors?.max && submitted" class="p-error">
        Der Betrag darf nicht größer als 10.000 Euro sein.
      </small>
    </div>

    <div class="field mb-2">
      <label for="helptext" class="mb-1">zusätzliche Sachkosten</label>
      <select id="helptext" class="w-full" formControlName="helptext">
        <option value="" disabled selected hidden>Bitte wählen...</option>
        <option value="option1">Sachkosten 1</option>
        <option value="option2">Sachkosten 2</option>
        <option value="option3">Sachkosten 3</option>
        <option value="option4">Sachkosten 4</option>
        <option value="option5">Sachkosten 5</option>
      </select>
      <small *ngIf="submitted && newProjectForm.get('helptext').errors?.required" class="p-error">
        Bitte wählen Sie eine Option aus.
      </small>
    </div>

  </div>

  <app-project-lecturers [newProject]="true" [projectForm]="newProjectForm"></app-project-lecturers>

  <hr>
  <div class="field mb-2">
    <label for="totalCost" class="mb-1">Gesamtkosten</label>
    <div id="totalCost" class="w-full">
      {{ totalCost }} Euro
    </div>
  </div>

  <div class="flex justify-content-end mt-2">
    <p-button pRipple label="Projekt speichern" [loading]="loading" (click)="create()"></p-button>
  </div>

  
  <p-toast></p-toast>

</form>
